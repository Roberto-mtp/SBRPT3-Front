<div class="p-2">
    <app-sequences></app-sequences>
  </div>

  <!-- Resumen de ataque -->

  <div class="flex justify-content-between align-items-center ml-3 p-3 mb-3 shadow-2 border-round-md surface-card" style="width: 500px;">
    <div class="flex align-items-center gap-2">
      <span class="text-900 font-medium">Tipo de Ataque:</span>
      <span class="text-primary font-bold">{{ tipoAtaque }}</span>
      <i class="pi pi-exclamation-triangle text-danger"></i>
    </div>
    <div class="flex align-items-center gap-2">
      <i class="pi pi-clock text-red-500"></i>
      <span class="font-medium text-900">{{ hora }}</span>
    </div>
  </div>


  <!--Lista de ataques-->
<div class="border-round-md shadow-2 m-3">
  <p-card header="Informe de Ciberataque" class="relative w-full ">
    
    <p-table [columns]="cols" [value]="paginatedDatos" responsiveLayout="scroll" class=" w-full">
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th *ngFor="let col of columns" [pSortableColumn]="col.field" class="text-center text-sm ">
                    {{ col.header }}
                    <ng-container *ngIf="col.field !== 'detalles'">
                        <p-sortIcon [field]="col.field"></p-sortIcon>
                    </ng-container>
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns">
            
            <tr >
                <td *ngFor="let col of columns"[ngClass]="{
                    'text-center': col.field !== 'detalles',
                    'md:text-xs': true,
                    'ls:text-sm': true,
                    'break-words': true
                  }">
                    <!-- Botón para ver los "detalles" -->
                    <ng-container *ngIf="col.field === 'detalles'">
                        <button *ngIf="rowData['detalles']" 
                            pButton 
                            icon="pi pi-file" 
                            class="text-center ml-4"
                            (click)="detalles(rowData)">
                        </button>
                    </ng-container>

                    <!-- Para las demás columnas, mostrar los datos -->
                    <ng-container *ngIf="col.field !== 'detalles'">
                        <span class="whitespace-normal break-words block text-sm">{{ rowData[col.field] }}</span>
                    </ng-container>
                </td>
            </tr>
       
        </ng-template>
        
    </p-table>
    


<div class="flex justify-content-between mt-2 ">
    <p-paginator 
        [first]="first" 
        [rows]="rows" 
        [totalRecords]="datos.length" 
        [rowsPerPageOptions]="[4, 8, 10]"
        (onPageChange)="onPageChange($event)">
    </p-paginator>
    <div class="flex align-items-center justify-content-end ">
    <button [ngStyle]="{backgroundColor:'var(--primary-900)', color: 'var(--primary-color-text)'}" pButton label="Ver todos" class="mt-2 mb-2" style="width: 200px;"></button>
    </div>
</div>

 
</p-card>
</div>
<!-- Modal de confirmación de descarga -->
<p-dialog [(visible)]="displayModal" [modal]="true" header="Detalles" [style]="{width: '30%'}">
<p class="text-center">Detalles del atacante</p>

</p-dialog>
